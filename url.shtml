<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>url路径测试</title>
	<!--#include virtual="inc/head.html"-->
</head>
<body>
	<!--#include virtual="inc/header.html"-->
	<section class="home">
		<section class="main">
			测试测试
		</section>
		<!--#include virtual="inc/bar.html"-->
	</section>
	<!--#include virtual="inc/footer.html"-->
</body>
</html>
<script>
$(function(){
	console.log(funcUrl("page","5"));
	funcUrl("aaa","5");
});

function funcUrl(name,value){
	var loca = window.location;
	var baseUrl = loca.origin + loca.pathname + "?";
	var query = loca.search.substr(1);
	if (!!value) {
		var obj = {};
		var url;
		if (query=="") {
			url = baseUrl + name + "=" + value;
		}else{
			var queryArr = query.split("&");
			for (var i = 0; i < queryArr.length; i++) {
				queryArr[i] = queryArr[i].split("=");
				obj[queryArr[i][0]] = queryArr[i][1]
			};
			obj[name] = value;
			url = baseUrl + JSON.stringify(obj).replace(/[\"\{\}]/g,"").replace(/\:/g,"=").replace(/\,/g,"&");
		};
		console.log(url);
		return url;
	}else{
		var val = query.match(new RegExp("(^|&)"+ name +"=([^&]*)(&|$)"));
		return val!=null ? unescape(val[2]) : null;
	};
}


</script>